(()=>{var e={};e.id=292,e.ids=[292],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3122:e=>{"use strict";e.exports=require("undici")},9491:e=>{"use strict";e.exports=require("assert")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},1808:e=>{"use strict";e.exports=require("net")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},4554:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>c,pages:()=>x,routeModule:()=>p,tree:()=>d}),s(7212),s(2029),s(5866);var r=s(3191),a=s(8716),l=s(7922),i=s.n(l),n=s(5231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=["",{children:["players",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7212)),"D:\\saga_next\\next-saga-scholarships-admin\\src\\app\\players\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"D:\\saga_next\\next-saga-scholarships-admin\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],x=["D:\\saga_next\\next-saga-scholarships-admin\\src\\app\\players\\page.tsx"],c="/players/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/players/page",pathname:"/players",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6492:(e,t,s)=>{Promise.resolve().then(s.bind(s,7485))},7485:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var r=s(326),a=s(6226);let l=({index:e,playerData:t,onDelete:s,onEdit:l})=>(0,r.jsxs)("div",{className:"flex h-[214px] w-full max-w-[441px] items-start justify-start rounded-[20px] bg-white",children:[r.jsx("div",{className:"flex h-[214px] w-[147px] min-w-[147px] items-center justify-center rounded-[20px] bg-slate-200",children:r.jsx(a.default,{src:t?.imageUrl,width:147,height:214,alt:"User",className:"h-[214px] w-[147px] bg-cover rounded-[20px] bg-center"})}),(0,r.jsxs)("div",{className:"my-auto flex   w-full flex-col items-start justify-start gap-5 p-5 pr-[30px]",children:[(0,r.jsxs)("div",{className:"flex w-full flex-col items-start justify-start gap-[10px]",children:[r.jsx("p",{className:"line-clamp-1 text-[13px] font-medium leading-[13px] text-textBlack",children:`Name: ${t?.name}`}),r.jsx("p",{className:"line-clamp-1 text-[10px] leading-[10px] text-textBlack",children:`Year: ${t?.date}`}),r.jsx("p",{className:"line-clamp-1 text-[10px] leading-[10px] text-textBlack",children:`Sport: ${t?.sport}`}),r.jsx("p",{className:"line-clamp-1 text-[10px] leading-[10px] text-textBlack",children:`Major: ${t?.race}`}),r.jsx("p",{className:"line-clamp-1 text-[10px] leading-[10px] text-textBlack",children:`Country: ${t?.country}`}),r.jsx("p",{className:"line-clamp-1 text-[10px] leading-[10px] text-textBlack",children:`University: ${t?.university}`})]}),(0,r.jsxs)("div",{className:"flex w-full items-center justify-end gap-5",children:[r.jsx("button",{className:"rounded bg-blue px-4 py-[6px] text-[13px] uppercase leading-[13px] text-white shadow outline-none transition-all duration-150 ease-linear hover:shadow-md focus:outline-none active:bg-blue",type:"button",onClick:()=>l(t,e),children:"Edit"}),r.jsx("button",{className:" rounded bg-red px-4 py-[6px] text-[13px] uppercase leading-[13px] text-white shadow outline-none transition-all duration-150 ease-linear hover:shadow-md focus:outline-none active:bg-red",type:"button",onClick:()=>s(t,e),children:"Delete"})]})]})]});var i=s(8193);let n=({isOpen:e,onClose:t,onSubmit:s})=>r.jsx(i.Z,{isOpen:e,onClose:t,title:"Delete player details",className:"h-full  w-full max-w-[738px] ",children:(0,r.jsxs)("div",{className:"mt-[60px] flex  w-full flex-col   items-center justify-start gap-11",children:[r.jsx("div",{className:"relative flex h-auto w-full max-w-[565px] items-center justify-center ",children:r.jsx("p",{className:"text-center text-[20px] text-textBlack ",children:"Are you sure you want to delete player details? You will not be able to recover this player’s information after it get’s deleted."})}),(0,r.jsxs)("div",{className:" flex w-full items-center justify-center gap-[100px]",children:[r.jsx("button",{className:" w-[154px] rounded-[10px] bg-red px-4 py-3 text-xs font-bold uppercase text-white shadow outline-none transition-all duration-150 ease-linear hover:shadow-md focus:outline-none active:bg-red",type:"button",onClick:t,children:"Cancel"}),r.jsx("button",{className:" w-[154px] rounded-[10px] bg-blue px-4 py-3 text-xs font-bold uppercase text-white shadow outline-none transition-all duration-150 ease-linear hover:shadow-md focus:outline-none active:bg-blue",type:"button",onClick:()=>{s()},children:"Confirm"})]})]})});var o=s(7577),d=s(4723),x=s(1774),c=s(123);let u=c.Ry().shape({name:c.Z_().required("Name is required"),date:c.Z_().required("Date is required"),sport:c.Z_().required("Sport is required"),race:c.Z_().required("Race is required"),country:c.Z_().required("Country is required"),university:c.Z_().required("University is required"),imageUrl:c.Z_().required("Image is required")}),p=({isOpen:e,player:t,onClose:s,onSubmit:l})=>{let[n,c]=(0,o.useState)(t?t?.imageUrl:""),[p,m]=(0,o.useState)(null),f=(0,o.useRef)(null),{register:h,handleSubmit:g,setValue:y,setError:w,formState:{errors:b}}=(0,d.cI)({resolver:(0,x.X)(u)});(0,o.useEffect)(()=>{t&&y("name",t.name),t&&y("date",t.date),t&&y("sport",t.sport),t&&y("race",t.race),t&&y("country",t.country),t&&y("university",t.university),t&&y("imageUrl",t.imageUrl)},[t,y]);let j=async e=>{c(null),e.target?.files&&m(e.target?.files[0]);let t=new FileReader;e.target?.files&&t.readAsDataURL(e.target?.files[0]),t.onload=async e=>{let t=e.target?.result;t&&(w("imageUrl",{message:""}),y("imageUrl",t),c(t))}},v=g(e=>{n&&l({...e,imageUrl:n})});return r.jsx(i.Z,{isOpen:e,onClose:s,title:"Edit player details",className:"h-full w-full max-w-[1330px]",children:r.jsx("form",{onSubmit:v,children:r.jsx("div",{className:"mt-[50px] flex  w-full flex-col   items-center justify-start gap-11",children:(0,r.jsxs)("div",{className:"flex w-full items-start justify-start gap-[30px]",children:[(0,r.jsxs)("div",{className:"flex w-full flex-col items-start justify-start gap-4",children:[(0,r.jsxs)("div",{className:"relative flex h-full max-h-[642px] min-h-[642px] w-full max-w-[570px] items-center justify-center  rounded-[10px] bg-[#9D9595]",children:[n&&r.jsx(a.default,{src:n,width:570,height:642,alt:"User",className:"h-full max-h-[642px] min-h-[642px] w-[570px] rounded-[10px] bg-cover bg-center"}),(0,r.jsxs)("div",{role:"button",onClick:()=>{f.current&&f.current?.click()},className:"absolute left-1/2 top-1/2 -ml-8 flex -translate-x-1/2 -translate-y-1/2 cursor-pointer items-center justify-center gap-6 ",children:[(0,r.jsxs)("svg",{width:"26",height:"31",viewBox:"0 0 26 31",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M21.3438 5.23792C18.7565 2.54238 15.1818 1.0186 11.4455 1.0186H6.9581C3.72621 1.00621 1.07699 3.58085 1.00086 6.81274V23.6698C0.946475 26.8551 3.48382 29.4826 6.67065 29.5385C6.76543 29.5385 6.86177 29.5385 6.9581 29.5354H19.3698C22.5846 29.5028 25.1701 26.8846 25.1655 23.6698V14.7385C25.1655 11.1971 23.7961 7.79287 21.3438 5.23792V5.23792Z",stroke:"#131E42","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r.jsx("path",{d:"M16.8864 1V5.51998C16.8864 7.72637 18.6717 9.51478 20.878 9.521H25.1572",stroke:"#131E42","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r.jsx("path",{d:"M16.6057 16.793H8.99213",stroke:"#131E42","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),r.jsx("path",{d:"M12.8 20.5989V12.9854",stroke:"#131E42","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),r.jsx("p",{className:" text-nowrap text-[20px]  font-semibold text-blue",children:"Add new image"}),r.jsx("input",{...h("imageUrl"),accept:"image/png",ref:f,onChange:j,type:"file",style:{display:"none"}})]})]}),b.imageUrl&&r.jsx("p",{className:"text-[14px] text-red",children:b?.imageUrl?.message})]}),(0,r.jsxs)("div",{className:"mt-15 flex w-full max-w-[530px] flex-col items-start justify-start gap-[110px]",children:[(0,r.jsxs)("div",{className:"flex w-full max-w-[530px]  flex-col items-start justify-start gap-[10px]",children:[(0,r.jsxs)("div",{className:" flex w-full  items-center justify-start gap-[18px]",children:[r.jsx("label",{className:"min-w-[150px] text-right text-[20px] font-medium text-textBlack dark:text-white",htmlFor:"name",children:"name"}),(0,r.jsxs)("div",{className:"flex w-full flex-col items-start justify-start gap-4",children:[r.jsx("input",{className:"w-full rounded-[10px] border border-[#AFAFAF] bg-[#F2F2F2] px-5 py-[11px] text-[#131E42] focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",id:"name",...h("name")}),b.name&&r.jsx("p",{className:" text-[14px] text-red ",children:b?.name?.message})]})]}),(0,r.jsxs)("div",{className:" flex w-full  items-center justify-start gap-[18px]",children:[r.jsx("label",{className:"min-w-[150px] text-right text-[20px] font-medium text-textBlack dark:text-white",htmlFor:"date",children:"Year"}),(0,r.jsxs)("div",{className:"flex w-full flex-col items-start justify-start gap-4",children:[r.jsx("input",{className:"w-full rounded-[10px] border border-[#AFAFAF] bg-[#F2F2F2] px-5 py-[11px] text-[#131E42] focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",id:"date",...h("date")}),b.date&&r.jsx("p",{className:" text-[14px] text-red ",children:b?.date?.message})]})]}),(0,r.jsxs)("div",{className:" flex w-full  items-center justify-start gap-[18px]",children:[r.jsx("label",{className:"min-w-[150px] text-right text-[20px] font-medium text-textBlack dark:text-white",htmlFor:"sport",children:"Sport"}),(0,r.jsxs)("div",{className:"flex w-full flex-col items-start justify-start gap-4",children:[r.jsx("input",{className:"w-full rounded-[10px] border border-[#AFAFAF] bg-[#F2F2F2] px-5 py-[11px] text-[#131E42] focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",id:"sport",...h("sport")}),b.sport&&r.jsx("p",{className:" text-[14px] text-red ",children:b?.sport?.message})]})]}),(0,r.jsxs)("div",{className:" flex w-full  items-center justify-start gap-[18px]",children:[r.jsx("label",{className:"min-w-[150px] text-right text-[20px] font-medium text-textBlack dark:text-white",htmlFor:"race",children:"Major"}),(0,r.jsxs)("div",{className:"flex w-full flex-col items-start justify-start gap-4",children:[r.jsx("input",{className:"w-full rounded-[10px] border border-[#AFAFAF] bg-[#F2F2F2] px-5 py-[11px] text-[#131E42] focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",id:"race",...h("race")}),b.race&&r.jsx("p",{className:" text-[14px] text-red ",children:b?.race?.message})]})]}),(0,r.jsxs)("div",{className:" flex w-full  items-center justify-start gap-[18px]",children:[r.jsx("label",{className:"min-w-[150px] text-right text-[20px] font-medium text-textBlack dark:text-white",htmlFor:"country",children:"Country"}),(0,r.jsxs)("div",{className:"flex w-full flex-col items-start justify-start gap-4",children:[r.jsx("input",{className:"w-full rounded-[10px] border border-[#AFAFAF] bg-[#F2F2F2] px-5 py-[11px] text-[#131E42] focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",id:"country",...h("country")}),b.country&&r.jsx("p",{className:" text-[14px] text-red ",children:b?.country?.message})]})]}),(0,r.jsxs)("div",{className:" flex w-full  items-center justify-start gap-[18px]",children:[r.jsx("label",{className:"min-w-[150px] text-right text-[20px] font-medium text-textBlack dark:text-white",htmlFor:"university",children:"University"}),(0,r.jsxs)("div",{className:"flex w-full flex-col items-start justify-start gap-4",children:[r.jsx("input",{className:"w-full rounded-[10px] border border-[#AFAFAF] bg-[#F2F2F2] px-5 py-[11px] text-[#131E42] focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",id:"university",...h("university")}),b.university&&r.jsx("p",{className:" text-[14px] text-red ",children:b?.university?.message})]})]})]}),(0,r.jsxs)("div",{className:" flex w-full items-center justify-end gap-[100px]",children:[r.jsx("button",{className:" w-[154px] rounded-[10px] bg-red px-4 py-3 text-xs font-bold uppercase text-white shadow outline-none transition-all duration-150 ease-linear hover:shadow-md focus:outline-none active:bg-red",type:"button",onClick:s,children:"Cancel"}),r.jsx("button",{className:" w-[154px] rounded-[10px] bg-blue px-4 py-3 text-xs font-bold uppercase text-white shadow outline-none transition-all duration-150 ease-linear hover:shadow-md focus:outline-none active:bg-blue",type:"submit",children:"Update"})]})]})]})})})})};var m=s(7619),f=s(2585),h=s(7464),g=s(8558),y=s(282);let w=(0,f.ZF)(m.Z),b=(0,h.v0)(),j=(0,g.N8)(w),v=()=>{let e=(0,y.parseCookies)().token,[t,s]=(0,o.useState)(""),[a,i]=(0,o.useState)([]),[d,x]=(0,o.useState)(null),[c,u]=(0,o.useState)(!1),[m,f]=(0,o.useState)(!1),[w,v]=(0,o.useState)(!1),[k,N]=(0,o.useState)(0),[C,F]=(0,o.useState)("Saving data..."),[q,A]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=(0,h.Aj)(b,e=>{if(e){let t=e.uid,s=(0,g.iH)(j,`adminData/${t}/players`);(0,g.jM)(s,e=>{try{let t=e.val();null!==t?Array.isArray(t)?i(t):console.error("Data is not in the expected format"):console.error("No data found in the database")}catch(e){console.error("Error parsing data: ",e)}},e=>{console.error("Error retrieving data from Firebase: ",e)})}else i([])});return()=>{e()}},[]);let _=(e,t)=>{x({player:e,index:t}),u(!0)},S=(e,t)=>{x({player:e,index:t}),f(!0)},E=()=>{x(null),u(!1),f(!1)};return(0,o.useEffect)(()=>{e||(window.location.href="/signin")},[e]),(0,r.jsxs)("div",{className:"flex h-full w-full flex-col items-start justify-start gap-11 px-8",children:[r.jsx("div",{className:"flex w-full flex-row items-center justify-between gap-10",children:(0,r.jsxs)("button",{className:" flex items-center justify-center gap-4 rounded-[10px] bg-blue px-4 py-2 text-xs uppercase text-white shadow outline-none transition-all duration-150 ease-linear hover:shadow-md focus:outline-none active:bg-blue",type:"button",onClick:()=>{x(null),u(!0)},children:[r.jsx("svg",{width:"19",height:"18",viewBox:"0 0 19 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{d:"M11.5641 7.69672C13.6113 7.69672 15.2694 5.94262 15.2694 3.79508C15.2694 1.68033 13.6113 0 11.5641 0C9.53384 0 7.85886 1.70492 7.85886 3.81148C7.86732 5.95082 9.51692 7.69672 11.5641 7.69672ZM11.5641 6.2623C10.3967 6.2623 9.40695 5.18852 9.40695 3.81148C9.40695 2.46721 10.3882 1.43443 11.5641 1.43443C12.7484 1.43443 13.7213 2.45082 13.7213 3.79508C13.7213 5.17213 12.74 6.2623 11.5641 6.2623ZM11.5641 8.64754C10.0837 8.64754 8.7894 8.96721 7.71505 9.4918C8.12956 9.80328 8.49332 10.1803 8.7894 10.6148C9.56768 10.2869 10.4982 10.082 11.5641 10.082C15.2863 10.082 17.3758 12.418 17.3758 13.6721C17.3758 13.8197 17.2996 13.8852 17.0966 13.8852H9.91451C9.90606 14.3934 9.83838 14.8361 9.67765 15.3197H16.8344C18.2979 15.3197 19 14.8689 19 13.9016C19 11.6475 16.0984 8.64754 11.5641 8.64754ZM4.35663 18C6.72529 18 8.72173 16.082 8.72173 13.7705C8.72173 11.459 6.75067 9.54918 4.35663 9.54918C1.97106 9.54918 0 11.459 0 13.7705C0 16.0902 1.97106 18 4.35663 18ZM1.59884 13.7705C1.59038 13.4344 1.82725 13.2131 2.17409 13.2131H3.78139V11.6639C3.78139 11.3279 4.0098 11.0984 4.35663 11.0984C4.71193 11.0984 4.94034 11.3279 4.94034 11.6639V13.2131H6.54764C6.88602 13.2131 7.12289 13.4344 7.12289 13.7705C7.12289 14.1148 6.88602 14.3361 6.54764 14.3361H4.94034V15.8934C4.94034 16.2295 4.71193 16.4508 4.35663 16.4508C4.0098 16.4508 3.78139 16.2295 3.78139 15.8934V14.3361H2.17409C1.83571 14.3361 1.59884 14.1148 1.59884 13.7705Z",fill:"white"})}),"Add new player"]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 h-full w-full gap-20",children:a?.map((e,t)=>r.jsx(l,{index:t,playerData:e,onDelete:S,onEdit:_},`${e?.name}-${t}`))}),c&&r.jsx(p,{isOpen:c,player:d?d?.player:null,onClose:E,onSubmit:e=>{let t=structuredClone(a);if(d){let s=t?.findIndex((e,t)=>t===d?.index);-1!==s&&(t[s]=e),i(t),x(null),u(!1)}else i([...t,e]),u(!1)}}),m&&r.jsx(n,{isOpen:m,onClose:E,onSubmit:()=>{let e=structuredClone(a);i(e?.filter((e,t)=>t!==d?.index)),x(null),f(!1)}}),r.jsx("div",{className:"mt-7 flex w-full items-center justify-end gap-5",children:r.jsx("button",{className:" rounded bg-red px-4 py-2 text-xs font-bold uppercase text-white shadow outline-none transition-all duration-150 ease-linear hover:shadow-md focus:outline-none active:bg-red",type:"button",onClick:()=>{let e=b.currentUser;if(e){v(!0),N(0),F("Saving data..."),A(!1);let t=e.uid,s=(0,g.iH)(j,`adminData/${t}/players`);(0,g.t8)(s,a).then(()=>{console.log("Page data saved successfully!"),N(100),F("Data saved successfully! ✔️"),setTimeout(()=>{A(!0),setTimeout(()=>{v(!1)},3e3)},1e3)}).catch(e=>{console.error("Error saving page data: ",e),v(!1)});let r=setInterval(()=>{N(e=>e<90?e+10:(clearInterval(r),e))},300)}else console.error("No user is currently signed in.")},children:"Save"})}),w&&r.jsx(({message:e,progress:t,success:s})=>(0,r.jsxs)("div",{className:`fixed right-5 bottom-5 w-80 p-4 bg-green-600 text-white rounded shadow-lg transition-transform duration-700 ${s&&"transform translate-x-full"}`,children:[r.jsx("div",{children:e}),!s&&r.jsx("div",{className:"w-full bg-green-200 h-2 rounded mt-2",children:r.jsx("div",{className:"bg-green-500 h-full rounded",style:{width:`${t}%`}})})]}),{message:C,progress:k,success:q})]})}},7212:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>l,default:()=>n});var r=s(8570);let a=(0,r.createProxy)(String.raw`D:\saga_next\next-saga-scholarships-admin\src\app\players\page.tsx`),{__esModule:l,$$typeof:i}=a;a.default;let n=(0,r.createProxy)(String.raw`D:\saga_next\next-saga-scholarships-admin\src\app\players\page.tsx#default`)},3881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(6621);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,578,621,899,69],()=>s(4554));module.exports=r})();